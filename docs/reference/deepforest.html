<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Build or train bagged deeptree or deepnet of multiple architecture — deepforest • deepdive</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Build or train bagged deeptree or deepnet of multiple architecture — deepforest" />

<meta property="og:description" content="Build or train bagged deeptree or deepnet of multiple architecture.Based on error choice either select best model or average multiple model with random variable cut,data cut and architechture" />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">deepdive</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/RajeshB24/deepdive">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Build or train bagged deeptree or deepnet of multiple architecture</h1>
    <small class="dont-index">Source: <a href='https://github.com/RajeshB24/deepdive/blob/master/R/deepForest.R'><code>R/deepForest.R</code></a></small>
    <div class="hidden name"><code>deepforest.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Build or train bagged deeptree or deepnet of multiple architecture.Based on error choice either select best model or average multiple model with random variable cut,data cut and architechture</p>
    
    </div>

    <pre class="usage"><span class='fu'>deepforest</span>(
  <span class='no'>x</span>,
  <span class='no'>y</span>,
  <span class='kw'>networkCount</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>layerChoice</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>:<span class='fl'>3</span>),
  <span class='kw'>unitsChoice</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>4</span>:<span class='fl'>10</span>),
  <span class='kw'>cutVarSizePercent</span> <span class='kw'>=</span> <span class='fl'>0.6</span>,
  <span class='kw'>cutDataSizePercent</span> <span class='kw'>=</span> <span class='fl'>0.6</span>,
  <span class='kw'>activation</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"sigmoid"</span>, <span class='st'>"sigmoid"</span>),
  <span class='kw'>reluLeak</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>modelType</span> <span class='kw'>=</span> <span class='st'>"regress"</span>,
  <span class='kw'>iterations</span> <span class='kw'>=</span> <span class='fl'>500</span>,
  <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>10</span>^-<span class='fl'>2</span>,
  <span class='kw'>seed</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>gradientClip</span> <span class='kw'>=</span> <span class='fl'>0.8</span>,
  <span class='kw'>regularisePar</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>optimiser</span> <span class='kw'>=</span> <span class='st'>"adam"</span>,
  <span class='kw'>parMomentum</span> <span class='kw'>=</span> <span class='fl'>0.9</span>,
  <span class='kw'>inputSizeImpact</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>parRmsPropZeroAdjust</span> <span class='kw'>=</span> <span class='fl'>10</span>^-<span class='fl'>8</span>,
  <span class='kw'>parRmsProp</span> <span class='kw'>=</span> <span class='fl'>0.9999</span>,
  <span class='kw'>treeLeaves</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>treeMinSplitPercent</span> <span class='kw'>=</span> <span class='fl'>0.3</span>,
  <span class='kw'>treeMinSplitCount</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>treeCp</span> <span class='kw'>=</span> <span class='fl'>0.01</span>,
  <span class='kw'>errorCover</span> <span class='kw'>=</span> <span class='fl'>0.2</span>,
  <span class='kw'>treeAugment</span> <span class='kw'>=</span> <span class='no'>T</span>,
  <span class='kw'>printItrSize</span> <span class='kw'>=</span> <span class='fl'>100</span>,
  <span class='kw'>showProgress</span> <span class='kw'>=</span> <span class='no'>T</span>,
  <span class='kw'>stopError</span> <span class='kw'>=</span> <span class='fl'>0.01</span>,
  <span class='kw'>miniBatchSize</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>useBatchProgress</span> <span class='kw'>=</span> <span class='no'>T</span>
)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a data frame with input variables</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>a data frame with ouptut variable</p></td>
    </tr>
    <tr>
      <th>networkCount</th>
      <td><p>Integer, Number of deepnet or deeptree to build</p></td>
    </tr>
    <tr>
      <th>layerChoice</th>
      <td><p>vector, different layer choices</p></td>
    </tr>
    <tr>
      <th>unitsChoice</th>
      <td><p>vector , number of units choice</p></td>
    </tr>
    <tr>
      <th>cutVarSizePercent</th>
      <td><p>ratio, percentage of variable to for each network</p></td>
    </tr>
    <tr>
      <th>cutDataSizePercent</th>
      <td><p>ratio, percentage of data to for each network</p></td>
    </tr>
    <tr>
      <th>activation</th>
      <td><p>choose from "sigmoid","relu","sin","cos","none".Activations will be randomly chosen from chosen. Default is relu and sin</p></td>
    </tr>
    <tr>
      <th>reluLeak</th>
      <td><p>numeric. Applicable when activation is "relu". Specify value between 0 any number close to zero below 1. Eg: 0.01,0.001 etc</p></td>
    </tr>
    <tr>
      <th>modelType</th>
      <td><p>one of "regress","binary","multiClass". "regress" for regression will create a linear single unit output layer. "binary" will create a single unit sigmoid activated layer. "multiClass" will create layer with units corresponding to number of output classes with softmax activation.</p></td>
    </tr>
    <tr>
      <th>iterations</th>
      <td><p>integer. This indicates number of iteratios or epochs in backpropagtion .The default value is 500.</p></td>
    </tr>
    <tr>
      <th>eta</th>
      <td><p>numeric.Hyperparameter,sets the Learning rate for backpropagation. Eta determines the convergence ability and speed of convergence.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>numeric. Set seed with this parameter. Incase of sin activation sometimes changing seed can yeild better results. Default is 2</p></td>
    </tr>
    <tr>
      <th>gradientClip</th>
      <td><p>numeric. Hyperparameter numeric value which limits gradient size for weight update operation in backpropagation. Default is 0.8 . It can take any postive value.</p></td>
    </tr>
    <tr>
      <th>regularisePar</th>
      <td><p>numeric. L2 Regularisation Parameter .</p></td>
    </tr>
    <tr>
      <th>optimiser</th>
      <td><p>one of "gradientDescent","momentum","rmsProp","adam". Default value "adam"</p></td>
    </tr>
    <tr>
      <th>parMomentum</th>
      <td><p>numeric. Applicable for optimiser "mometum" and "adam"</p></td>
    </tr>
    <tr>
      <th>inputSizeImpact</th>
      <td><p>numeric. Adjusts the gradient size by factor of percentage of rows in input. For very small data set setting this to 0 could yeild faster result. Default is 1.</p></td>
    </tr>
    <tr>
      <th>parRmsPropZeroAdjust</th>
      <td><p>numeric. Applicable for optimiser "rmsProp" and "adam"</p></td>
    </tr>
    <tr>
      <th>parRmsProp</th>
      <td><p>numeric.Applicable for optimiser "rmsProp" and "adam"</p></td>
    </tr>
    <tr>
      <th>treeLeaves</th>
      <td><p>vector.Optional , leaves numbers from externally trained tree model can be supplied here. If supplied then model will not build a explicit tree and just fit a neural network to mentioned leaves.</p></td>
    </tr>
    <tr>
      <th>treeMinSplitPercent</th>
      <td><p>numeric. This parameter controls depth of tree setting min split count for leaf subdivision as percentage of observations. Final minimum split will be chosen as max of count calculted with treeMinSplitPercent and treeMinSplitCount. Default 0.3. Range 0 to 1.</p></td>
    </tr>
    <tr>
      <th>treeMinSplitCount</th>
      <td><p>numeric. This parameter controls depth of tree setting min split count.Final minimum split will be chosen as max of count calculted with treeMinSplitPercent and treeMinSplitCount. Default 30</p></td>
    </tr>
    <tr>
      <th>treeCp</th>
      <td><p>complexity parameter. <code>rpart.control</code></p></td>
    </tr>
    <tr>
      <th>errorCover</th>
      <td><p>Ratio. Deault is 0.2 i.e all models within 20 percent error of best model will be selected.</p></td>
    </tr>
    <tr>
      <th>treeAugment</th>
      <td><p>logical. If True fits deeptree and if False fits deepnet. Default is T</p></td>
    </tr>
    <tr>
      <th>printItrSize</th>
      <td><p>numeric. Number of iterations after which progress message should be shown. Default value 100 and for iterations below 100 atleast 5 messages will be seen</p></td>
    </tr>
    <tr>
      <th>showProgress</th>
      <td><p>logical. True will show progress and F will not show progress</p></td>
    </tr>
    <tr>
      <th>stopError</th>
      <td><p>Numeric. Rmse at which iterations can be stopped. Default is 0.01, can be set as NA in case all iterations needs to run.</p></td>
    </tr>
    <tr>
      <th>miniBatchSize</th>
      <td><p>integer. Set the mini batch size for mini batch gradient</p></td>
    </tr>
    <tr>
      <th>useBatchProgress</th>
      <td><p>logical. Applicable for miniBatch , setting T will use show rmse in Batch and F will show error on full dataset. For large dataset set T</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>returns model object which can be passed into <code><a href='predict.deepforest.html'>predict.deepforest</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>mdeepf</span><span class='kw'>&lt;-</span><span class='fu'>deepforest</span>(<span class='no'>x</span>,<span class='no'>y</span>,
                  <span class='kw'>networkCount</span><span class='kw'>=</span><span class='fl'>3</span>,
                  <span class='kw'>layerChoice</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>:<span class='fl'>3</span>),
                  <span class='kw'>unitsChoice</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>4</span>:<span class='fl'>10</span>),
                  <span class='kw'>cutVarSizePercent</span><span class='kw'>=</span><span class='fl'>0.6</span>,
                  <span class='kw'>cutDataSizePercent</span><span class='kw'>=</span><span class='fl'>0.6</span>,
                  <span class='kw'>activation</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'relu'</span>,<span class='st'>"sin"</span>),
                  <span class='kw'>reluLeak</span><span class='kw'>=</span><span class='fl'>0.01</span>,
                  <span class='kw'>modelType</span> <span class='kw'>=</span><span class='st'>'regress'</span>,
                  <span class='kw'>iterations</span> <span class='kw'>=</span> <span class='fl'>500</span>,
                  <span class='kw'>eta</span> <span class='kw'>=</span> <span class='fl'>10</span> ^-<span class='fl'>2</span>,
                  <span class='kw'>seed</span><span class='kw'>=</span><span class='fl'>2</span>,
                  <span class='kw'>gradientClip</span><span class='kw'>=</span><span class='fl'>0.8</span>,
                  <span class='kw'>regularisePar</span><span class='kw'>=</span><span class='fl'>0</span>,
                  <span class='kw'>optimiser</span><span class='kw'>=</span><span class='st'>"adam"</span>,
                  <span class='kw'>parMomentum</span><span class='kw'>=</span><span class='fl'>0.9</span>,
                  <span class='kw'>inputSizeImpact</span><span class='kw'>=</span><span class='fl'>1</span>,
                  <span class='kw'>parRmsPropZeroAdjust</span><span class='kw'>=</span><span class='fl'>10</span>^-<span class='fl'>8</span>,
                  <span class='kw'>parRmsProp</span><span class='kw'>=</span><span class='fl'>0.9999</span>,
                  <span class='kw'>treeLeaves</span><span class='kw'>=</span><span class='fl'>NA</span>,
                  <span class='kw'>treeMinSplitPercent</span><span class='kw'>=</span><span class='fl'>0.3</span>,
                  <span class='kw'>treeMinSplitCount</span><span class='kw'>=</span><span class='fl'>100</span>,
                  <span class='kw'>treeCp</span><span class='kw'>=</span><span class='fl'>0.01</span> ,
                  <span class='kw'>errorCover</span><span class='kw'>=</span><span class='fl'>0.2</span>,
                  <span class='kw'>treeAugment</span><span class='kw'>=</span><span class='no'>T</span>,
                  <span class='kw'>printItrSize</span><span class='kw'>=</span><span class='fl'>100</span>,
                  <span class='kw'>showProgress</span><span class='kw'>=</span><span class='no'>T</span>,
                  <span class='kw'>stopError</span><span class='kw'>=</span><span class='fl'>0.01</span>,
                  <span class='kw'>miniBatchSize</span><span class='kw'>=</span><span class='fl'>64</span>,
                  <span class='kw'>useBatchProgress</span><span class='kw'>=</span><span class='no'>T</span>)</div><div class='output co'>#&gt; <span class='error'>Error in nrow(x): object 'x' not found</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Rajesh Balakirshnan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


